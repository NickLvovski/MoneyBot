### Бот для подсчета квартальной премии

#### Описание
Этот бот написан на Python и предназначен для автоматизации подсчета квартальных премий инженеров на основе данных, выгружаемых из Jira. Бот запрашивает данные через Jira API, обрабатывает их, сохраняет в CSV-файл и подсчитывает премии в зависимости от выполненных задач.  

#### Функционал
1. **Запуск и приветствие**  
   Команда `/start` отображает приветственное сообщение с описанием доступных команд.  

2. **Обновление выгрузки данных**  
   Команда `/update` загружает данные из Jira за текущий квартал и сохраняет их в файл `L1.csv`.  

3. **Просмотр расчета премий**  
   Команда `/bonus` подсчитывает премии на основе выгруженных данных и отправляет их пользователю в виде сообщения.  

#### Как работает
1. Определение текущего квартала:  
   Код автоматически рассчитывает начало и конец текущего квартала на основе сегодняшней даты.  

2. Запрос к Jira API:  
   Используется JQL-запрос, который фильтрует задачи по статусу, типу, дате создания и другим параметрам.  

3. Обработка данных:  
   Полученные задачи сохраняются в CSV-файл, а затем подсчитываются премии для каждого исполнителя на основе настроенного словаря стоимости компонентов.  

4. Результат:  
   Бот отправляет список инженеров и их премии в рублях.  

#### Команды
- `/start` — Отображает приветственное сообщение.  
- `/update` — Запускает процесс обновления данных из Jira.  
- `/bonus` — Показывает расчет премий на основе обновленных данных.  

#### Установка и настройка
Для установки 
1. Склонируйте репозиторий или создайте файл Python с кодом.  
2. Установите зависимости:  
   ```bash
   pip install -r requirements.txt
   ```
3. Вставьте свой токен Telegram-бота в строку:  
   ```python
   bot = telebot.TeleBot('<ваш токен>')
   ```
4. Вставьте токен Jira в `headers`:  
   ```python
   headers = {
       'Authorization': 'Bearer <токен>'
   }
   ```
5. Убедитесь, что у вас есть доступ к Jira API и указанный URL верен:  
   ```python
   url = 'https://jira.croc.ru/rest/api/2/search'
   ```

#### Требования
- Python 3.8 или выше  
- Доступ к Jira API с корректными правами  
- Активный Telegram-бот  

#### Пример работы
1. Пользователь отправляет `/start` — бот приветствует.  
2. Пользователь отправляет `/update` — бот начинает выгрузку данных.  
3. После завершения выгрузки пользователь отправляет `/bonus` — бот отправляет расчет премий.  

#### Советы
- Убедитесь, что компоненты из Jira соответствуют тем, что указаны в словаре `component_prices`.  
- Для тестирования работы используйте небольшие выборки данных из Jira.  

#### Возможные улучшения
- Добавить обработку ошибок.  
- Добавить авторизацию в боте.

#### Лицензия
Этот проект можно использовать и модифицировать для своих нужд. Авторство кода приветствуется. 
